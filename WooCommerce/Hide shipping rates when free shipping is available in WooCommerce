<?php
/**
 * Hide shipping rates when free shipping is available in WooCommerce
 * Author: Yaser Alhosani
 * 
 * @param array $rates Array of rates found for the package.
 * @return array
 */
 */
 // Start code
function wc_hide_shipping_when_free_is_available( $rates ) {
    $free = array();
    foreach ( $rates as $rate_id => $rate ) {
        if ( 'free_shipping' === $rate->method_id ) {
            $free[ $rate_id ] = $rate;
            break;
        }
	}
	return ! empty( $free ) ? $free : $rates;
}
add_filter( 'woocommerce_package_rates', 'wc_hide_shipping_when_free_is_available', 10, 1 );
// End code
?>


